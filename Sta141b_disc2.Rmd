---
title: "STA141b_disc2"
author: "Grant Smith"
date: "1/15/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


#data Manipulation

DS/SDE...
You must first collect data before you do analysis.

R - use dplyr #R least important
Python - pandas
SQL - various (MySQL,SAS SQL) #SQL most important

#Piping
-piping use %>% at the end of each line to connect the commands

#Review
-Exercise one: select the first three columns of Iris dataset
```{r}
library(dplyr)
head(iris)
select(iris,Sepal.Length:Petal.Length)
```
Exercise 2: Select all the columns from iris except petal.width

```{r}
select(iris,-Petal.Width)
```

Exercise 3: SElect all collumns taht stary with P
```{r}
select(iris,starts_with("P"))
```

Exercise 4:


Exercise 5: Pipe the iris dadta frame to the function that will seect two columns

```{r}

iris %>%
  select(Sepal.Length,Sepal.Width) %>%
  head
  
```

Exercise 6: Arrange rows by a particular column, such as Sepal.Width
```{r}
iris %>% 
  arrange(Sepal.Width)
```

Exercise 7: Select 3 columns from iris, arrange by sepal length then arrange the rows by

```{r}
iris %>%
  select(Species,Sepal.Width,Petal.Length) %>%
  arrange(Sepal.Width,Petal.Length) %>%
  head
```
Exercise 8: Create a new columns called 'prop' which is the ratio of sepal length to sepal width
```{r}
iris %>% 
  mutate(prop = Sepal.Length/Sepal.Width) %>%
  head
```

Exercise 9: Compute the average number of sepal.length

```{r}
iris %>%
  summarise(avg_sl=mean(Sepal.Length))
```
Exercise 10: Split the iris data frame by the species then as for the same summary stats as

```{r}
iris %>%
  group_by(Species) %>%
  summarise(avg_sl=mean(Sepal.Length),
            min_sl=min(Sepal.Length),
            max_sl=max(Sepal.Length),
            total = n()
            )
```

#group_by

above we group_by one input (species) but inpractice we are likely to group_by more than one input

```{r}
som.dat<-tibble(
  Col1 = c('a','a','a','b'),
  Col2 = c('a','a','b','a')
)

som.dat

som.dat %>% 
  group_by(Col1,Col2,.drop = FALSE) %>% 
  summarise(n()) 
  
```

```{r}
tibble(
  x=1:5,
  y=6:10
)
```

